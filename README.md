<h1>Bulk Bitcoin Address Balance Check</h1>

![Profil Picture](https://raw.githubusercontent.com/kayaaicom/Electrum-Bitcoin-Address-Balance-Checker/main/test.png)


**Bulk Bitcoin Address Balance Check**

Here's the updated version formatted for GitHub as a markdown file (`README.md`):


# Bulk Bitcoin Address Balance Check

This script, `kayachecker_Safeguard.py`, is inspired by the [Electrum Bitcoin Address Balance Checker](https://github.com/kayaaicom/Electrum-Bitcoin-Address-Balance-Checker) and builds upon it to provide additional safeguards and fault-tolerant execution. It automates the process of checking Bitcoin wallet balances using Electrum, ensuring reliability through safeguard checks for both internet connectivity and Electrum availability. The script can resume from where it left off in case of failure and provides time estimates for task completion.

## Features

- **Safeguard Mechanism**: Ensures that both the internet connection and Electrum are available before checking wallet balances.
- **Address Validation**: Automatically validates Bitcoin addresses to ensure only valid ones are processed.
- **Failure Handling**: Logs progress in a `failure.txt` file, allowing you to resume from the last processed wallet or start over after a failure.
- **Balance Checking**: Uses Electrum's command-line interface to check Bitcoin wallet balances and logs addresses with positive balances.
- **Time Estimation**: Provides real-time estimates of the remaining time required to process the remaining wallets.
- **Multiprocessing**: Processes multiple wallet checks simultaneously to improve efficiency and speed.

## Requirements

### Python Modules

- Standard Python libraries:
  - `subprocess`
  - `os`
  - `time`
  - `socket`
  - `datetime`
  - `multiprocessing`
  - `json`
  - `collections`

### External Tools

- **Electrum portable (v4.5.5)**: The script relies on Electrum's CLI to check Bitcoin wallet balances. Ensure you have Electrum installed and specify its correct path in the script.

### Input Files

- **`bitcoin_addresses.txt`**: A text file containing the list of Bitcoin addresses to be checked. Each address should be on a new line.

### Output Files

- **`walletwithbalance.txt`**: Logs all Bitcoin addresses that have a positive balance.
- **`failure.txt`**: Tracks the last processed wallet and the number of wallets already checked. This allows the script to resume from the last known wallet after an interruption.
- **`Potentially_not_checked.txt`**: Logs wallets that might not have been checked in case of an error or a failure, along with the nearby wallets for easy cross-referencing.

## How to Use

### 1. Setup

1. Install **Electrum** (version 4.5.5 or later) and ensure it is available in the path specified in the script.
2. Prepare a text file (`bitcoin_addresses.txt`) with the Bitcoin addresses you want to check, each address on a new line.

### 2. Configure Paths

In the script, adjust the paths for your files and Electrum executable:

```python
input_file = r'c:\\your_path\\bitcoin_addresses.txt'
positive_balance_file = r'c:\\your_path\\walletwithbalance.txt'
failure_file = r'c:\\your_path\\failure.txt'
potentially_not_checked_file = r'c:\\your_path\\Potentially_not_checked.txt'
electrum_path = r'c:\\your_path\\electrum-4.5.5-portable.exe'


### 3. Run the Script

After configuring the paths, simply run the script in your Python environment:

```bash
python kayachecker_Safeguard.py
```

### 4. Handling Failures

If the script encounters a failure (e.g., a loss of internet connection or Electrum unavailability), it logs the last processed wallet in `failure.txt`. Upon restarting, the script will prompt you to either:

- **Start Over**: Reset the failure log and begin checking wallets from the start.
- **Resume**: Continue from where the script left off, using the data from `failure.txt`.

### 5. Output

Below is a preview of the expected output files generated by the script.

#### `walletwithbalance.txt`

```plaintext
Address: 1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa, Balance: 50.00000000 BTC
Address: 3J98t1WpEZ73CNmQviecrnyiWrnqRhWNLy, Balance: 0.35000000 BTC
```

This file logs all Bitcoin addresses that have a positive balance, including the balance amounts.

#### `failure.txt`

```plaintext
Last Recorded Wallet : 3J98t1WpEZ73CNmQviecrnyiWrnqRhWNLy
Number of Processed Wallets : 120
```

This file logs the last successfully processed wallet and the number of wallets already checked. This allows the script to resume from where it left off in case of failure.

#### `Potentially_not_checked.txt` 
(for example if you lost electrum RPC or internet connection)
```plaintext
----------------------------------------
Date, Time: 2024-10-14 13:45:22
1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa
3J98t1WpEZ73CNmQviecrnyiWrnqRhWNLy
bc1qw508d6qejxtdg4y5r3zarvary0c5xw7kv8kjgc
bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh
```

This file logs potentially unchecked Bitcoin wallets if the script encountered an error, along with some surrounding wallets for reference.

## Principles

### Reliability
The script verifies internet connectivity and Electrum's availability before proceeding with any operation. It continually monitors these conditions during execution to ensure no wallets are skipped due to downtime.

### Fault Tolerance
If a failure occurs (e.g., network disconnection or Electrum failure), the script logs the last processed wallet and allows you to either start fresh or resume from where it left off.

### Efficiency
The script uses multiprocessing to check multiple wallets simultaneously, significantly reducing the time required to complete the task.

### Time Management
The script estimates the remaining time to process all wallets based on the average processing time of the last few wallets, giving real-time feedback on how long it will take to complete.

## Technical Breakdown

### Modules and Functions

- **Safeguard Check**: 
  - `safeguard_check()`: Continuously monitors internet and Electrum availability, and waits for recovery if either is down.

- **Address Validation**:
  - `is_valid_bitcoin_address(address)`: Checks whether a Bitcoin address is valid by confirming its format based on known Bitcoin address structures.

- **Balance Checking**:
  - `check_balance(address)`: Interacts with Electrum to fetch the balance of a given Bitcoin address.

- **Failure Handling**:
  - `handle_failure_file()`: Reads and writes to `failure.txt`, allowing the script to resume from the last processed wallet or reset.

- **Time Estimation**:
  - `TimeEstimator`: Estimates the time required to finish processing all remaining wallets based on the average processing time of previously checked wallets.

- **Multiprocessing**:
  - Uses Python’s `multiprocessing.Pool` to handle multiple wallet checks in parallel, increasing overall efficiency.

## License

This project is licensed under the MIT License – see the LICENSE file for details.
```

This should format correctly when uploaded to GitHub as a `README.md` file. Let me know if you'd like any further changes!
